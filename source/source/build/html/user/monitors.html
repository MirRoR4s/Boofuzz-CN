<!DOCTYPE html>

<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Monitors &#8212; rainfuzz 0.0 文档</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=4f649999" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=039e1c02" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=16727793"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="../_static/translations.js?v=beaddf03"></script>
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="monitors">
<span id="id1"></span><h1>Monitors<a class="headerlink" href="#monitors" title="此标题的永久链接">¶</a></h1>
<p>Monitors are components that monitor the target for specific behaviour. A
monitor can be passive and just observe and provide data or behave more actively,
interacting directly with the target. Some monitors also have the capability to
start, stop and restart targets.</p>
<p>Detecting a crash or misbehaviour of your target can be a complex, non-straight
forward process depending on the tools you have available on your targets host;
this holds true especially for embedded devices. Boofuzz provides three main
monitor implementations:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#boofuzz.monitors.ProcessMonitor" title="boofuzz.monitors.ProcessMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProcessMonitor</span></code></a>, a Monitor that collects debug info from process on Windows
and Unix. It also can restart the target process and detect segfaults.</p></li>
<li><p><a class="reference internal" href="#boofuzz.monitors.NetworkMonitor" title="boofuzz.monitors.NetworkMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">NetworkMonitor</span></code></a>, a Monitor that passively captures network traffic via PCAP
and attaches it to the testcase log.</p></li>
<li><p><a class="reference internal" href="#boofuzz.monitors.CallbackMonitor" title="boofuzz.monitors.CallbackMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">CallbackMonitor</span></code></a>, which is used to implement the callbacks that can be
supplied to the Session class.</p></li>
</ul>
<section id="monitor-interface-basemonitor">
<h2>Monitor Interface (BaseMonitor)<a class="headerlink" href="#monitor-interface-basemonitor" title="此标题的永久链接">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="boofuzz.monitors.BaseMonitor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">boofuzz.monitors.</span></span><span class="sig-name descname"><span class="pre">BaseMonitor</span></span><a class="headerlink" href="#boofuzz.monitors.BaseMonitor" title="永久链接至目标">¶</a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Interface for Target monitors. All Monitors must adhere
to this specification.</p>
<div class="versionadded">
<p><span class="versionmodified added">在 0.2.0 版本加入.</span></p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="boofuzz.monitors.BaseMonitor.alive">
<span class="sig-name descname"><span class="pre">alive</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#boofuzz.monitors.BaseMonitor.alive" title="永久链接至目标">¶</a></dt>
<dd><p>Called when a Target containing this Monitor is added to a session.
Use this function to connect to e.g. RPC hosts if your target lives
on another machine.</p>
<p>You MUST return True if the monitor is alive. You MUST return False
otherwise. If a Monitor is not alive, this method will be called
until it becomes alive or throws an exception. You SHOULD handle
timeouts / connection retry limits in the monitor implementation.</p>
<p>Defaults to return True.</p>
<dl class="field-list simple">
<dt class="field-odd">返回<span class="colon">:</span></dt>
<dd class="field-odd"><p>Bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="boofuzz.monitors.BaseMonitor.get_crash_synopsis">
<span class="sig-name descname"><span class="pre">get_crash_synopsis</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#boofuzz.monitors.BaseMonitor.get_crash_synopsis" title="永久链接至目标">¶</a></dt>
<dd><p>Called if any monitor indicates that the current testcase has failed,
even if this monitor did not detect a crash. You SHOULD return a human-
readable representation of the crash synopsis (e.g. hexdump). You MAY
save the full crashdump somewhere.</p>
<dl class="field-list simple">
<dt class="field-odd">返回<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="boofuzz.monitors.BaseMonitor.post_send">
<span class="sig-name descname"><span class="pre">post_send</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fuzz_data_logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">session</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#boofuzz.monitors.BaseMonitor.post_send" title="永久链接至目标">¶</a></dt>
<dd><p>Called after the current fuzz node is transmitted. Use it to collect
data about a target and decide whether it crashed.</p>
<p>You MUST return True if the Target is still alive. You MUST return False
if the Target crashed. If one Monitor reports a crash, the whole testcase
will be marked as crashing.</p>
<p>Defaults to return True.</p>
<dl class="field-list simple">
<dt class="field-odd">返回<span class="colon">:</span></dt>
<dd class="field-odd"><p>Bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="boofuzz.monitors.BaseMonitor.post_start_target">
<span class="sig-name descname"><span class="pre">post_start_target</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fuzz_data_logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">session</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#boofuzz.monitors.BaseMonitor.post_start_target" title="永久链接至目标">¶</a></dt>
<dd><p>Called after a target is started or restarted.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="boofuzz.monitors.BaseMonitor.pre_send">
<span class="sig-name descname"><span class="pre">pre_send</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fuzz_data_logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">session</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#boofuzz.monitors.BaseMonitor.pre_send" title="永久链接至目标">¶</a></dt>
<dd><p>Called before the current fuzz node is transmitted.</p>
<p>Defaults to no effect.</p>
<dl class="field-list simple">
<dt class="field-odd">返回<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="boofuzz.monitors.BaseMonitor.restart_target">
<span class="sig-name descname"><span class="pre">restart_target</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fuzz_data_logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">session</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#boofuzz.monitors.BaseMonitor.restart_target" title="永久链接至目标">¶</a></dt>
<dd><p>Restart a target. Must return True if restart was successful, False if it was unsuccessful
or this monitor cannot restart a Target, which causes the next monitor in the chain
to try to restart.</p>
<p>The first successful monitor causes the restart chain to stop applying.</p>
<p>Defaults to call stop and start, return True if successful.</p>
<dl class="field-list simple">
<dt class="field-odd">返回<span class="colon">:</span></dt>
<dd class="field-odd"><p>Bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="boofuzz.monitors.BaseMonitor.retrieve_data">
<span class="sig-name descname"><span class="pre">retrieve_data</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#boofuzz.monitors.BaseMonitor.retrieve_data" title="永久链接至目标">¶</a></dt>
<dd><p>Called to retrieve data independent of whether the current fuzz node crashed
the target or not. Called before the fuzzer proceeds to a new testcase.</p>
<p>You SHOULD return any auxiliary data that should be recorded. The data MUST
be serializable, e.g. bytestring.</p>
<p>Defaults to return None.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="boofuzz.monitors.BaseMonitor.set_options">
<span class="sig-name descname"><span class="pre">set_options</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#boofuzz.monitors.BaseMonitor.set_options" title="永久链接至目标">¶</a></dt>
<dd><p>Called to set options for your monitor (e.g. local crash dump storage).
*args and **kwargs can be explicitly specified by implementing classes,
however you SHOULD ignore any kwargs you do not recognize.</p>
<p>Defaults to no effect.</p>
<dl class="field-list simple">
<dt class="field-odd">返回<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="boofuzz.monitors.BaseMonitor.start_target">
<span class="sig-name descname"><span class="pre">start_target</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#boofuzz.monitors.BaseMonitor.start_target" title="永久链接至目标">¶</a></dt>
<dd><p>Starts a target. You MUST return True if the start was successful. You
MUST return False if not. Monitors will be tried to start the target
in the order they were added to the Target; the first Monitor to succeed
breaks iterating.</p>
<dl class="field-list simple">
<dt class="field-odd">返回<span class="colon">:</span></dt>
<dd class="field-odd"><p>Bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="boofuzz.monitors.BaseMonitor.stop_target">
<span class="sig-name descname"><span class="pre">stop_target</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#boofuzz.monitors.BaseMonitor.stop_target" title="永久链接至目标">¶</a></dt>
<dd><p>Stops a target. You MUST return True if the stop was successful. You
MUST return False if not. Monitors will be tried to stop the target
in the order they were added to the Target; the first Monitor to succeed
breaks iterating.</p>
<dl class="field-list simple">
<dt class="field-odd">返回<span class="colon">:</span></dt>
<dd class="field-odd"><p>Bool</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="processmonitor">
<h2>ProcessMonitor<a class="headerlink" href="#processmonitor" title="此标题的永久链接">¶</a></h2>
<p>The process monitor consists of two parts; the <code class="docutils literal notranslate"><span class="pre">ProcessMonitor</span></code> class that implements
<code class="docutils literal notranslate"><span class="pre">BaseMonitor</span></code> and a second module that is to be run on the host of your target.</p>
<dl class="py class">
<dt class="sig sig-object py" id="boofuzz.monitors.ProcessMonitor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">boofuzz.monitors.</span></span><span class="sig-name descname"><span class="pre">ProcessMonitor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">host</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">port</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#boofuzz.monitors.ProcessMonitor" title="永久链接至目标">¶</a></dt>
<dd><p>Proxy class for the process monitor interface.</p>
<p>In Versions &lt; 0.2.0, boofuzz had network and process monitors
that communicated over RPC. The RPC client was directly passed
to the session class, and resolved all method calls dynamically
on the RPC partner.</p>
<p>Since 0.2.0, every monitor class must implement the abstract class
BaseMonitor, which defines a common interface among all Monitors. To
aid future typehinting efforts and to disambiguate Network- and Process Monitors,
this explicit proxy class has been introduced that
fast-forwards all calls to the RPC partner.</p>
<div class="versionadded">
<p><span class="versionmodified added">在 0.2.0 版本加入.</span></p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="boofuzz.monitors.ProcessMonitor.alive">
<span class="sig-name descname"><span class="pre">alive</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#boofuzz.monitors.ProcessMonitor.alive" title="永久链接至目标">¶</a></dt>
<dd><p>This method is forwarded to the RPC daemon.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="boofuzz.monitors.ProcessMonitor.get_crash_synopsis">
<span class="sig-name descname"><span class="pre">get_crash_synopsis</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#boofuzz.monitors.ProcessMonitor.get_crash_synopsis" title="永久链接至目标">¶</a></dt>
<dd><p>This method is forwarded to the RPC daemon.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="boofuzz.monitors.ProcessMonitor.on_new_server">
<span class="sig-name descname"><span class="pre">on_new_server</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_uuid</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#boofuzz.monitors.ProcessMonitor.on_new_server" title="永久链接至目标">¶</a></dt>
<dd><p>Restores all set options to the RPC daemon if it has restarted since the last call.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="boofuzz.monitors.ProcessMonitor.post_send">
<span class="sig-name descname"><span class="pre">post_send</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fuzz_data_logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">session</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#boofuzz.monitors.ProcessMonitor.post_send" title="永久链接至目标">¶</a></dt>
<dd><p>This method is forwarded to the RPC daemon.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="boofuzz.monitors.ProcessMonitor.pre_send">
<span class="sig-name descname"><span class="pre">pre_send</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fuzz_data_logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">session</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#boofuzz.monitors.ProcessMonitor.pre_send" title="永久链接至目标">¶</a></dt>
<dd><p>This method is forwarded to the RPC daemon.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="boofuzz.monitors.ProcessMonitor.restart_target">
<span class="sig-name descname"><span class="pre">restart_target</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fuzz_data_logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">session</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#boofuzz.monitors.ProcessMonitor.restart_target" title="永久链接至目标">¶</a></dt>
<dd><p>This method is forwarded to the RPC daemon.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="boofuzz.monitors.ProcessMonitor.set_crash_filename">
<span class="sig-name descname"><span class="pre">set_crash_filename</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_crash_filename</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#boofuzz.monitors.ProcessMonitor.set_crash_filename" title="永久链接至目标">¶</a></dt>
<dd><div class="deprecated">
<p><span class="versionmodified deprecated">自 0.2.0 版本弃用.</span></p>
</div>
<p>This option should be set via <code class="docutils literal notranslate"><span class="pre">set_options</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="boofuzz.monitors.ProcessMonitor.set_options">
<span class="sig-name descname"><span class="pre">set_options</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#boofuzz.monitors.ProcessMonitor.set_options" title="永久链接至目标">¶</a></dt>
<dd><p>The old RPC interfaces specified set_foobar methods to set options.
As these vary by RPC implementation, this trampoline method translates
arguments that have been passed as keyword arguments to set_foobar calls.</p>
<p>If you call <code class="docutils literal notranslate"><span class="pre">set_options(foobar=&quot;barbaz&quot;)</span></code>, it will result in a call to
<code class="docutils literal notranslate"><span class="pre">set_foobar(&quot;barbaz&quot;)</span></code> on the RPC partner.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="boofuzz.monitors.ProcessMonitor.set_proc_name">
<span class="sig-name descname"><span class="pre">set_proc_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_proc_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#boofuzz.monitors.ProcessMonitor.set_proc_name" title="永久链接至目标">¶</a></dt>
<dd><div class="deprecated">
<p><span class="versionmodified deprecated">自 0.2.0 版本弃用.</span></p>
</div>
<p>This option should be set via <code class="docutils literal notranslate"><span class="pre">set_options</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="boofuzz.monitors.ProcessMonitor.set_start_commands">
<span class="sig-name descname"><span class="pre">set_start_commands</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_start_commands</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#boofuzz.monitors.ProcessMonitor.set_start_commands" title="永久链接至目标">¶</a></dt>
<dd><div class="deprecated">
<p><span class="versionmodified deprecated">自 0.2.0 版本弃用.</span></p>
</div>
<p>This option should be set via <code class="docutils literal notranslate"><span class="pre">set_options</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="boofuzz.monitors.ProcessMonitor.set_stop_commands">
<span class="sig-name descname"><span class="pre">set_stop_commands</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_stop_commands</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#boofuzz.monitors.ProcessMonitor.set_stop_commands" title="永久链接至目标">¶</a></dt>
<dd><div class="deprecated">
<p><span class="versionmodified deprecated">自 0.2.0 版本弃用.</span></p>
</div>
<p>This option should be set via <code class="docutils literal notranslate"><span class="pre">set_options</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="boofuzz.monitors.ProcessMonitor.start_target">
<span class="sig-name descname"><span class="pre">start_target</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#boofuzz.monitors.ProcessMonitor.start_target" title="永久链接至目标">¶</a></dt>
<dd><p>This method is forwarded to the RPC daemon.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="boofuzz.monitors.ProcessMonitor.stop_target">
<span class="sig-name descname"><span class="pre">stop_target</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#boofuzz.monitors.ProcessMonitor.stop_target" title="永久链接至目标">¶</a></dt>
<dd><p>This method is forwarded to the RPC daemon.</p>
</dd></dl>

</dd></dl>

</section>
<section id="networkmonitor">
<h2>NetworkMonitor<a class="headerlink" href="#networkmonitor" title="此标题的永久链接">¶</a></h2>
<p>The network monitor consists of two parts; the <code class="docutils literal notranslate"><span class="pre">NetworkMonitor</span></code> class that implements
<code class="docutils literal notranslate"><span class="pre">BaseMonitor</span></code> and a second module that is to be run on a host that can monitor the traffic.</p>
<dl class="py class">
<dt class="sig sig-object py" id="boofuzz.monitors.NetworkMonitor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">boofuzz.monitors.</span></span><span class="sig-name descname"><span class="pre">NetworkMonitor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">host</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">port</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#boofuzz.monitors.NetworkMonitor" title="永久链接至目标">¶</a></dt>
<dd><p>Proxy class for the network monitor interface.</p>
<p>In Versions &lt; 0.2.0, boofuzz had network and process monitors
that communicated over RPC. The RPC client was directly passed
to the session class, and resolved all method calls dynamically
on the RPC partner.</p>
<p>Since 0.2.0, every monitor class must implement the abstract class
BaseMonitor, which defines a common interface among all Monitors. To
aid future typehinting efforts and to disambiguate Network- and Process Monitors,
this explicit proxy class has been introduced that
fast-forwards all calls to the RPC partner.</p>
<div class="versionadded">
<p><span class="versionmodified added">在 0.2.0 版本加入.</span></p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="boofuzz.monitors.NetworkMonitor.alive">
<span class="sig-name descname"><span class="pre">alive</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#boofuzz.monitors.NetworkMonitor.alive" title="永久链接至目标">¶</a></dt>
<dd><p>This method is forwarded to the RPC daemon.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="boofuzz.monitors.NetworkMonitor.on_new_server">
<span class="sig-name descname"><span class="pre">on_new_server</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_uuid</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#boofuzz.monitors.NetworkMonitor.on_new_server" title="永久链接至目标">¶</a></dt>
<dd><p>Restores all set options to the RPC daemon if it has restarted since the last call.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="boofuzz.monitors.NetworkMonitor.post_send">
<span class="sig-name descname"><span class="pre">post_send</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fuzz_data_logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">session</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#boofuzz.monitors.NetworkMonitor.post_send" title="永久链接至目标">¶</a></dt>
<dd><p>This method is forwarded to the RPC daemon.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="boofuzz.monitors.NetworkMonitor.pre_send">
<span class="sig-name descname"><span class="pre">pre_send</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fuzz_data_logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">session</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#boofuzz.monitors.NetworkMonitor.pre_send" title="永久链接至目标">¶</a></dt>
<dd><p>This method is forwarded to the RPC daemon.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="boofuzz.monitors.NetworkMonitor.restart_target">
<span class="sig-name descname"><span class="pre">restart_target</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fuzz_data_logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">session</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#boofuzz.monitors.NetworkMonitor.restart_target" title="永久链接至目标">¶</a></dt>
<dd><p>Always returns false as this monitor cannot restart a target.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="boofuzz.monitors.NetworkMonitor.retrieve_data">
<span class="sig-name descname"><span class="pre">retrieve_data</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#boofuzz.monitors.NetworkMonitor.retrieve_data" title="永久链接至目标">¶</a></dt>
<dd><p>This method is forwarded to the RPC daemon.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="boofuzz.monitors.NetworkMonitor.set_filter">
<span class="sig-name descname"><span class="pre">set_filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_filter</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#boofuzz.monitors.NetworkMonitor.set_filter" title="永久链接至目标">¶</a></dt>
<dd><div class="deprecated">
<p><span class="versionmodified deprecated">自 0.2.0 版本弃用.</span></p>
</div>
<p>This option should be set via <code class="docutils literal notranslate"><span class="pre">set_options</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="boofuzz.monitors.NetworkMonitor.set_log_path">
<span class="sig-name descname"><span class="pre">set_log_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_log_path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#boofuzz.monitors.NetworkMonitor.set_log_path" title="永久链接至目标">¶</a></dt>
<dd><div class="deprecated">
<p><span class="versionmodified deprecated">自 0.2.0 版本弃用.</span></p>
</div>
<p>This option should be set via <code class="docutils literal notranslate"><span class="pre">set_options</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="boofuzz.monitors.NetworkMonitor.set_options">
<span class="sig-name descname"><span class="pre">set_options</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#boofuzz.monitors.NetworkMonitor.set_options" title="永久链接至目标">¶</a></dt>
<dd><p>The old RPC interfaces specified set_foobar methods to set options.
As these vary by RPC implementation, this trampoline method translates
arguments that have been passed as keyword arguments to set_foobar calls.</p>
<p>If you call <code class="docutils literal notranslate"><span class="pre">set_options(foobar=&quot;barbaz&quot;)</span></code>, it will result in a call to
<code class="docutils literal notranslate"><span class="pre">set_foobar(&quot;barbaz&quot;)</span></code> on the RPC partner.</p>
<p>Additionally, any options set here are cached and re-applied to the RPC
server should it restart for whatever reason (e.g. the VM it’s running on
was restarted).</p>
</dd></dl>

</dd></dl>

</section>
<section id="callbackmonitor">
<h2>CallbackMonitor<a class="headerlink" href="#callbackmonitor" title="此标题的永久链接">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="boofuzz.monitors.CallbackMonitor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">boofuzz.monitors.</span></span><span class="sig-name descname"><span class="pre">CallbackMonitor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">on_pre_send</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">on_post_send</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">on_restart_target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">on_post_start_target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#boofuzz.monitors.CallbackMonitor" title="永久链接至目标">¶</a></dt>
<dd><p>New-Style Callback monitor that is used in Session to provide callback-arrays.
It’s purpose is to keep the *_callbacks arguments in the session class while
simplifying the implementation of session by forwarding these callbacks to
the monitor infrastructure.</p>
<p>The mapping of arguments to method implementations of this class is as follows:</p>
<ul class="simple">
<li><p>restart_callbacks –&gt; target_restart</p></li>
<li><p>pre_send_callbacks –&gt; pre_send</p></li>
<li><p>post_test_case_callbacks –&gt; post_send</p></li>
<li><p>post_start_target_callbacks –&gt; post_start_target</p></li>
</ul>
<p>All other implemented interface members are stubs only, as no corresponding
arguments exist in session. In any case, it is probably wiser to implement
a custom Monitor than to use the callback functions.</p>
<div class="versionadded">
<p><span class="versionmodified added">在 0.2.0 版本加入.</span></p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="boofuzz.monitors.CallbackMonitor.post_send">
<span class="sig-name descname"><span class="pre">post_send</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fuzz_data_logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">session</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#boofuzz.monitors.CallbackMonitor.post_send" title="永久链接至目标">¶</a></dt>
<dd><p>This method iterates over all supplied post send callbacks and executes them.
Their return values are discarded, exceptions are caught and logged:</p>
<ul class="simple">
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">BoofuzzTargetConnectionReset</span></code> will log a failure</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">BoofuzzTargetConnectionAborted</span></code> will log an info</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">BoofuzzTargetConnectionFailedError</span></code> will log a
failure</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">BoofuzzSSLError</span></code> will log either info or failure, depending on
if the session ignores SSL/TLS errors.</p></li>
<li><p>every other exception is logged as an error.</p></li>
</ul>
<p>All exceptions are discarded after handling.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="boofuzz.monitors.CallbackMonitor.post_start_target">
<span class="sig-name descname"><span class="pre">post_start_target</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fuzz_data_logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">session</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#boofuzz.monitors.CallbackMonitor.post_start_target" title="永久链接至目标">¶</a></dt>
<dd><p>Called after a target is started or restarted.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="boofuzz.monitors.CallbackMonitor.pre_send">
<span class="sig-name descname"><span class="pre">pre_send</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fuzz_data_logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">session</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#boofuzz.monitors.CallbackMonitor.pre_send" title="永久链接至目标">¶</a></dt>
<dd><p>This method iterates over all supplied pre send callbacks and executes them.
Their return values are discarded, exceptions are catched and logged, but otherwise
discarded.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="boofuzz.monitors.CallbackMonitor.restart_target">
<span class="sig-name descname"><span class="pre">restart_target</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fuzz_data_logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">session</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#boofuzz.monitors.CallbackMonitor.restart_target" title="永久链接至目标">¶</a></dt>
<dd><p>This Method tries to restart a target. If no restart callbacks are set,
it returns false; otherwise it returns true.</p>
<dl class="field-list simple">
<dt class="field-odd">返回<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">rainfuzz</a></h1>








<h3>导航</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../test.html">环境搭建</a></li>
<li class="toctree-l1"><a class="reference internal" href="../boofuzz1/index.html">boofuzz分析</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">快速搜索</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="提交" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;一袭青衣尽长安.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.1.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="../_sources/user/monitors.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>